Port graphics hidd
------------------

The graphics hidd consists currently of the gfxhidd.library and three
classes (graphics.hidd, graphicsbitmap.hidd, graphicsgc.hidd) which were
initialized by the gfxhidd.library.

Because on an A1200 with 68030 function calls are 2-3 times faster than
DoMethod() I first implemented the graphics hidd with shared library
functions. The methods of the classes calls direct this functions.

So the graphics-library could use the faster functions on a local machine
and the methods to access a machine over a network. The problem ist that
this makes the graphics-library and the gfxhidd complexer.


For a simple port you must only rewrite 4 or 6 functions of the library all
other functions of the gfxhidd.library base on these:

  - HIDD_Graphics_CreateBitMap()
  - HIDD_Graphics_DeleteBitMap()
  - HIDD_Graphics_WritePixelDirect_Q()
  - HIDD_Graphics_ReadPixelDirect_Q()

and if the default hGfx_GC structure contains not enough information for
your hidd also

  - HIDD_Graphics_CreateGC()
  - HIDD_Graphics_DeleteGC()


Steps for a port:
-----------------
  (use for $(ARCH) the name of the system)

  - Changes in config/$(ARCH)/mmakefile.src (e.g. config/amiga/mmakefile.src)

    o add the metatarget "hidd-graphics" to "#MM kernel-$(ARCH)"
        e.g. #MM kernel-amiga : hidd-graphics
  
    o add the metatarget "setup-hidd-graphics-$(ARCH)" to  "#MM setup-$(ARCH)
        e.g. #MM setup-amiga : setup-hidd-graphics-amiga
  
    o create a new metatarget "setup-hidd-graphics-$(ARCH)
        e.g.  #MM setup-hidd-graphics-amiga : setup-hidd-graphics-amiga-$(CPU)
              setup-hidd-graphics-amiga :
                      @$(NOP)

  - create a directory for the hidd-sources which must be ported in
    config/$(ARCH)/
      e.g. createdir("config/amiga/rom/hidd/graphics")

  - copy "config/amiga/mmakefile.src" to this new directory
  - load the copy of this mmakefile.src in an editor and replace amiga and
    m68k with the names of your system

     e.g. replace
        #MM
        hidd-graphics-amiga : $(foreach f,$(FILES),$(OBJDIR)/$(f).o)
        
        #MM
        setup-hidd-graphics-amiga-m68k :

    ==> with
        #MM
        hidd-graphics-linux : $(foreach f,$(FILES),$(OBJDIR)/$(f).o)
        
        #MM
        setup-hidd-graphics-linux-86 :

   - if you must not port HIDD_Graphics_CreateGC(), HIDD_Graphics_DeleteGC()
     then remove  GC_CreateGC.c and GC_DeleteGC.c from FUNCTIONS

   - copy the following files from rom/hidd/graphics/ to config/$(ARCH)/rom...
       BM_CreateBitMap.c
       BM_DeleteBitMap.c
       GC_WritePixelDirect_Q.c
       GC_ReadPixelDirect_Q.c

     and may be
       GC_CreateGC.c
       GC_CreateGC.c

   - make the necessary changes in these sources. In config/amiga/rom/hidd/
     graphics you can find sources which uses the intuition- and
     graphics-library of Amiga OS 3.0

   - type "mmake AROS.hidd-graphics"

   - test the hidd with rom/hidd/graphica(TestLib | TestClass | TestHiddClass)

